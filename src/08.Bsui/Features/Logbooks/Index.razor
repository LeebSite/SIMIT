@page "/Logbooks"

@using Pertamina.SIMIT.Shared.Logbooks.Constants
@using Pertamina.SIMIT.Shared.Logbooks.Queries.GetLogbooks



<div style="display: flex; justify-content: center; align-items: center;">
	<MudText Typo="Typo.h5"><b>Tambahkan Logbook Harian</b></MudText>
</div>


<div style="display: flex; justify-content: center; align-items: center;">
	<MudCard Outlined="true" Style="width: 1000px; text-align: center; height: max-content">
		<MudCardContent>
			<MudText Typo="Typo.button" HtmlTag="h3"><b>Logbook Sesi Pagi 07.00 - 12.00</b></MudText>

			<EditForm Model="LogbookRequest" OnValidSubmit="OnValidSubmit" OnInvalidSubmit="OnInvalidSubmit">
				<FluentValidationValidator />
				<MudGrid>
					<MudItem xs="12">
						<MudText Style="text-align: left">No.Badge Mahasiswa</MudText>
						<MudTextField @bind-Value="LogbookRequest.MahasiswaNim" Label="No Badge" Variant="Variant.Outlined" Required="true" />
					</MudItem>
					<MudItem xs="12">
						<MudText Style="text-align: left">Tanggal</MudText>
						<!-- Tanggal otomatis diatur ke hari ini dan tidak dapat diedit -->
						<MudTextField Value="@LogbookRequest.LogbookDate.ToString("yyyy-MM-dd")" Label="Tanggal" Variant="Variant.Outlined" Disabled="true" />
					</MudItem>
					<MudItem xs="12">
						<MudText Style="text-align: left">Aktifitas</MudText>
						<MudTextField @bind-Value="LogbookRequest.Aktifitas" Label="Aktifitas" Variant="Variant.Outlined" Required="true" Style="height: 250px;" />
					</MudItem>
				</MudGrid>

				<MudCardContent>
					<BottomButtonPanel>
						<MudButton Variant="Variant.Filled" Color="Color.Default" OnClick="Cancel">@CommonDisplayTextFor.Cancel</MudButton>
						<MudButton Variant="Variant.Filled" Color="Color.Primary" ButtonType="ButtonType.Submit">@CommonDisplayTextFor.Add</MudButton>
					</BottomButtonPanel>
				</MudCardContent>
			</EditForm>
		</MudCardContent>
	</MudCard>
</div>

@code {
	// Model untuk logbook request
	public LogbookRequestModel LogbookRequest { get; set; } = new LogbookRequestModel();

	// Fungsi untuk mengunggah data
	private async Task OnValidSubmit()
	{
		Console.WriteLine($"Data Submitted: {LogbookRequest.MahasiswaNim}, {LogbookRequest.LogbookDate}, {LogbookRequest.Aktifitas}");
		await Task.CompletedTask; // Ganti dengan logika pengiriman data ke server
	}

	private void OnInvalidSubmit()
	{
		Console.WriteLine("Form tidak valid");
	}

	private void Cancel()
	{
		LogbookRequest = new LogbookRequestModel(); // Reset form
	}

	public class LogbookRequestModel
	{
		public string MahasiswaNim { get; set; }
		public DateTime LogbookDate { get; set; } = DateTime.Now; // Inisialisasi dengan tanggal saat ini
		public string Aktifitas { get; set; }
	}
}




<div style="display: flex; justify-content: center; align-items: center;">
	<MudText Typo="Typo.h5"><b>Tambahkan Logbook Harian</b></MudText>
</div>


<div style="display: flex; justify-content: center; align-items: center;">
	<MudCard Outlined="true" Style="width: 1000px; text-align: center; height: max-content">
		<MudCardContent>
			<MudText Typo="Typo.button" HtmlTag="h3"><b>Logbook Sesi Siang 13.00 - 16.00</b></MudText>

			<EditForm Model="LogbookRequest" OnValidSubmit="OnValidSubmit" OnInvalidSubmit="OnInvalidSubmit">
				<FluentValidationValidator />
				<MudGrid>
					<MudItem xs="12">
						<MudText Style="text-align: left">No.Badge Mahasiswa</MudText>
						<MudTextField @bind-Value="LogbookRequest.MahasiswaNim" Label="No Badge" Variant="Variant.Outlined" Required="true" />
					</MudItem>
					<MudItem xs="12">
						<MudText Style="text-align: left">Tanggal</MudText>
						<!-- Tanggal otomatis diatur ke hari ini dan tidak dapat diedit -->
						<MudTextField Value="@LogbookRequest.LogbookDate.ToString("yyyy-MM-dd")" Label="Tanggal" Variant="Variant.Outlined" Disabled="true" />
					</MudItem>
					<MudItem xs="12">
						<MudText Style="text-align: left">Aktifitas</MudText>
						<MudTextField @bind-Value="LogbookRequest.Aktifitas" Label="Aktifitas" Variant="Variant.Outlined" Required="true" Style="height: 250px;" />
					</MudItem>
				</MudGrid>

				<MudCardContent>
					<BottomButtonPanel>
						<MudButton Variant="Variant.Filled" Color="Color.Default" OnClick="Cancel">@CommonDisplayTextFor.Cancel</MudButton>
						<MudButton Variant="Variant.Filled" Color="Color.Primary" ButtonType="ButtonType.Submit">@CommonDisplayTextFor.Add</MudButton>
					</BottomButtonPanel>
				</MudCardContent>
			</EditForm>
		</MudCardContent>
	</MudCard>
</div>




