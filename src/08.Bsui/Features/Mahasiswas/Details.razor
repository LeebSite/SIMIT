@page "/Mahasiswas/Details/{mahasiswaId:guid}"

<BrowserTabTitle>@DisplayTextFor.Mahasiswa</BrowserTabTitle>
<MudBreadcrumbs Items="_breadcrumbItems" Separator=">"></MudBreadcrumbs>
<PageHeader Title="@DisplayTextFor.DetailDataMahasiwa" />
<Loading IsVisible="_isLoading" />
<ErrorViewer Error="_error" />

<MudToolBar>
    <MudButton Variant="Variant.Filled" Color="Color.Info" StartIcon="@Icons.Material.Filled.CalendarMonth" OnClick="NavigateToLogbook" Class="mr-5">
        @DisplayTextFor.Kehadiran
    </MudButton>
    <MudButton Variant="Variant.Filled" Color="Color.Info" StartIcon="@Icons.Material.Filled.Book" OnClick="NavigateToLogbookDetails">
        @DisplayTextFor.DetailLogbook
    </MudButton>
    <MudSpacer/>
    <MudButton Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Icons.Material.Filled.Edit" OnClick="ShowDialogEdit" Class="mr-5">
        @CommonDisplayTextFor.Edit
    </MudButton>
    <MudButton Variant="Variant.Filled" Color="Color.Error" StartIcon="@Icons.Material.Filled.Delete" OnClick="ShowDialogDelete">
        @CommonDisplayTextFor.Delete
    </MudButton>
</MudToolBar>

<div id="calendar"></div>

@if (_mahasiswa != null)
{
    <MudCard Outlined="true" Class="pa-4">
        <MudCardContent>
            <!-- Bagian Foto Mahasiswa -->
            <MudGrid Justify="Justify.Center" AlignItems="Center" Style="margin-bottom: 20px;">
                <MudItem>
                    <MudCard Style="width: 100px; height: 150px;">
                        <MudCardMedia Image="@_imageData" Alt="Foto Mahasiswa" Style="width: 100%; height: 100%; object-fit: cover;" />
                    </MudCard>
                </MudItem>
            </MudGrid>

            <!-- Bagian Tabel Vertikal -->
            <table class="mud-table" style="width: 100%; border-collapse: collapse; margin-top: 20px; border: 1px solid #ddd;">
                <tbody>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <td style="padding: 10px; font-weight: bold; text-align: left; border: 1px solid #ddd; width: 30%;">@DisplayTextFor.Nama</td>
                        <td style="padding: 10px; border: 1px solid #ddd; width: 70%;">@_mahasiswa.Nama</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <td style="padding: 10px; font-weight: bold; text-align: left; border: 1px solid #ddd; width: 30%;">@DisplayTextFor.Nim</td>
                        <td style="padding: 10px; border: 1px solid #ddd; width: 70%;">@_mahasiswa.Nim</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <td style="padding: 10px; font-weight: bold; text-align: left; border: 1px solid #ddd; width: 30%;">@DisplayTextFor.Kampus</td>
                        <td style="padding: 10px; border: 1px solid #ddd; width: 70%;">@_mahasiswa.Kampus</td>
                    </tr>
					<tr style="border-bottom: 1px solid #ddd;">
						<td style="padding: 10px; font-weight: bold; text-align: left; border: 1px solid #ddd; width: 30%;">@DisplayTextFor.MulaiMagang</td>
						<td style="padding: 10px; border: 1px solid #ddd; width: 70%;">@_mahasiswa.MulaiMagang.ToString("D")</td>
					</tr>
					<tr style="border-bottom: 1px solid #ddd;">
						<td style="padding: 10px; font-weight: bold; text-align: left; border: 1px solid #ddd; width: 30%;">@DisplayTextFor.SelesaiMagang</td>
						<td style="padding: 10px; border: 1px solid #ddd; width: 70%;">@_mahasiswa.SelesaiMagang.ToString("D")</td>
					</tr>

                    <tr style="border-bottom: 1px solid #ddd;">
                        <td style="padding: 10px; font-weight: bold; text-align: left; border: 1px solid #ddd; width: 30%;">@DisplayTextFor.Bagian</td>
                        <td style="padding: 10px; border: 1px solid #ddd; width: 70%;">@_mahasiswa.Bagian</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <td style="padding: 10px; font-weight: bold; text-align: left; border: 1px solid #ddd; width: 30%;">@DisplayTextFor.Pembimbing</td>
                        <td style="padding: 10px; border: 1px solid #ddd; width: 70%;">@_mahasiswa.PembimbingNama</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <td style="padding: 10px; font-weight: bold; text-align: left; border: 1px solid #ddd; width: 30%;">@DisplayTextFor.DeskripsiDokumen</td>
                        <td style="padding: 10px; border: 1px solid #ddd; width: 70%;">@_mahasiswa.LaporanDeskripsi</td>
                    </tr>
                </tbody>
            </table>

            <!-- Tombol Download Dokumen -->
            <MudGrid Justify="Justify.Center" Style="margin-top: 5px;">
                <MudItem xs="12" Style="text-align: left;">
                    <MudTooltip Placement="Placement.Top" Text="@($"{CommonDisplayTextFor.Download}")">
                        <MudButton Color="Color.Info" Variant="Variant.Outlined" StartIcon="@Icons.Material.Outlined.FileDownload" OnClick="Download" Class="mt-4">
                            Dokumen
                        </MudButton>
                    </MudTooltip>
                </MudItem>
            </MudGrid>
        </MudCardContent>
    </MudCard>
}
else
{
    <p>Loading data...</p>
}
