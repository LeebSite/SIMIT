@page "/logbook/Details/{MahasiswaId:guid}"
@using Pertamina.SIMIT.Shared.Logbooks.Queries.GetLogbooks
@using Pertamina.SIMIT.Shared.Mahasiswas.Queries.GetMahasiswa

<ErrorViewer Error="_error" />

<MudTable Elevation="0" Hover="true" Breakpoint="Breakpoint.Sm" Bordered="true"
              FixedHeader="true" Height="@HeightFor.ScrollableTable"
              @ref="_tableLogbooks"
		  ServerData="@(new Func<TableState, Task<TableData<GetLogbooksLogbook>>>(ReloadTableLogbooks))">

	<HeaderContent>
		<MudTh><MudTableSortLabel SortLabel="@nameof(GetLogbooksLogbook.LogbookDate)" T="GetLogbooksLogbook" Class="d-flex justify-center align-center">@DisplayTextFor.Tanggal</MudTableSortLabel></MudTh>
		<MudTh><MudTableSortLabel SortLabel="@nameof(GetLogbooksLogbook.Aktifitas)" T="GetLogbooksLogbook" Class="d-flex justify-center align-center">@DisplayTextFor.Aktifitas</MudTableSortLabel></MudTh>
		<MudTh>File</MudTh>
	</HeaderContent>
	<RowTemplate>
		<MudTd DataLabel="@DisplayTextFor.Tanggal">
			<MudHighlighter Text="@context.LogbookDate.ToString()" HighlightedText="@_searchKeyword" />
		</MudTd>
		<MudTd DataLabel="@DisplayTextFor.Aktifitas">
			<MudHighlighter Text="@context.Aktifitas" HighlightedText="@_searchKeyword" />
		</MudTd>
		<MudTd DataLabel="File">
			@if (!string.IsNullOrEmpty(context.ImageBase64Url))
			{
				<img src="@(!string.IsNullOrEmpty(context.ImageBase64Url) ? context.ImageBase64Url : "/images/placeholder.png")"
					 alt="Logbook Image" style="max-width:30%; height:auto;" />

			}

		</MudTd>
	</RowTemplate>
	<PagerContent>
		<MudTablePager />
	</PagerContent>
</MudTable>
